{{ form_start(form) }}
    {{ form_row(form.name) }}
    {{ form_row(form.lang) }}
    {{ form_row(form.slug) }}

<div class="mb-3">
    <label for="application_img" class="form-label required">{{ form_label(form.img) }}</label>
    {{ form_widget(form.img) }}
    <div class="form-error">
        {{ form_errors(form.img) }}
    </div>
    <div class="imagePreview" id="imagePreview"></div>
</div>
<button type="submit" class="btn btn-primary">{{ button_label|default('Save') }}</button>
{{ form_end(form) }}

<style>
    .imagePreview {
        width: auto;
        height: 200px;
        object-fit: contain;
        background-repeat: no-repeat;
        background-size: contain;
    }
</style>
<script>
    $(document).ready(function () {
        function readURL(input, previewId) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    $(previewId).css('background-image', 'url(' + e.target.result + ')');
                    $(previewId).hide();
                    $(previewId).fadeIn(650);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        $("#application_img").change(function () {
            readURL(this, '#imagePreview');
        });
    });
</script>